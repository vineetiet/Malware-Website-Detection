import Main
import Trainer as tra
from tkinter import messagebox
from tkinter import *


ro = Tk()
f = Frame(ro)
f.pack()
bottomFrame = Frame(ro)
bottomFrame.pack(side = BOTTOM)


label = Label(f, text="Enter the Web URL:  ")
label.pack( side = LEFT)
entry = Entry(f, bd =6,  width=160)
entry.pack(side =  RIGHT)


# This method will test the URL status from UI.
def submitCallBack():
    webUrl = entry.get()
    Main.processTestUrl(webUrl, 'WebURL_TestFeature.csv')
    answer = tra.UI('WebURL_Feature.csv', 'WebURL_TestFeature.csv')
    ans = str(answer).split()
    if int(ans[1]) == 0:
        messagebox.showinfo("Result: ", "URL " + webUrl + " is Safe")
    elif int(ans[1]) == 1:
        messagebox.showinfo("Result: ", "URL " + webUrl + " is phishing")
    else:
        messagebox.showinfo("Result: ", "URL " + webUrl + " is Malware")



button = Button(bottomFrame,  text="Submit",  command=submitCallBack)
button.pack()
ro.mainloop()
